t41 <- c(NA, NA, NA, 2, NA, 4, NA)
t42 <- c(NA, NA, 2, 4, 4, NA, NA)
t51 <- c(1, NA, NA, 2, NA, 4, NA)
t52 <- c(NA, -5, 2, 4, 4, NA, 11)
pos_na(t11, t12)
pos_na(t21, t22)
pos_na <- function(vec1, vec2) {
if (length(vec1) == length(vec2)) {
which(is.na(x) & is.na(y))
} else {
"The vectors are not the same length."
}
}
t11 <- c(1, NA, 2)
t12 <- c(NA, NA)
t21 <- c(NA, NA, 2)
invisible(t21)
t22 <- c(NA, NA, 2)
t31 <- c(NA, 5, NA)
t32 <- c(NA, NA, NA)
t41 <- c(NA, NA, NA, 2, NA, 4, NA)
t42 <- c(NA, NA, 2, 4, 4, NA, NA)
t51 <- c(1, NA, NA, 2, NA, 4, NA)
t52 <- c(NA, -5, 2, 4, 4, NA, 11)
pos_na(t11, t12)
pos_na(t21, t22)
pos_na <- function(vec1, vec2) {
if (length(vec1) == length(vec2)) {
which(is.na(x) & is.na(y))
} else {
"The vectors are not the same length."
}
}
t11 <- c(1, NA, 2)
t12 <- c(NA, NA)
t21 <- c(NA, NA, 2)
t22 <- c(NA, NA, 2)
t31 <- c(NA, 5, NA)
t32 <- c(NA, NA, NA)
t41 <- c(NA, NA, NA, 2, NA, 4, NA)
t42 <- c(NA, NA, 2, 4, 4, NA, NA)
t51 <- c(1, NA, NA, 2, NA, 4, NA)
t52 <- c(NA, -5, 2, 4, 4, NA, 11)
pos_na(t11, t12)
pos_na(t21, t22)
pos_na <- function(vec1, vec2) {
if (length(vec1) == length(vec2)) {
which(is.na(x) & is.na(y))
} else {
"The vectors are not the same length."
}
}
t11 <- c(1, NA, 2)
t12 <- c(NA, NA)
t21 <- c(NA, NA, 2)
t22 <- c(NA, NA, 2)
t31 <- c(NA, 5, NA)
t32 <- c(NA, NA, NA)
t41 <- c(NA, NA, NA, 2, NA, 4, NA)
t42 <- c(NA, NA, 2, 4, 4, NA, NA)
t51 <- c(1, NA, NA, 2, NA, 4, NA)
t52 <- c(NA, -5, 2, 4, 4, NA, 11)
pos_na(t11, t12)
# pos_na(t21, t22)
pos_na(t31, t32)
pos_na <- function(vec1, vec2) {
if (length(vec1) == length(vec2)) {
which(is.na(vec1) & is.na(vec2))
} else {
"The vectors are not the same length."
}
}
t11 <- c(1, NA, 2)
t12 <- c(NA, NA)
t21 <- c(NA, NA, 2)
t22 <- c(NA, NA, 2)
t31 <- c(NA, 5, NA)
t32 <- c(NA, NA, NA)
t41 <- c(NA, NA, NA, 2, NA, 4, NA)
t42 <- c(NA, NA, 2, 4, 4, NA, NA)
t51 <- c(1, NA, NA, 2, NA, 4, NA)
t52 <- c(NA, -5, 2, 4, 4, NA, 11)
pos_na(t11, t12)
pos_na(t21, t22)
pos_na(t31, t32)
pos_na(t41, t42)
pos_na(t51, t52)
pos_na <- function(vec1, vec2) {
stopifnot(length(vec1) == length(vec2))
which(is.na(vec1) & is.na(vec2))
}
t11 <- c(1, NA, 2)
t12 <- c(NA, NA)
t21 <- c(NA, NA, 2)
t22 <- c(NA, NA, 2)
t31 <- c(NA, 5, NA)
t32 <- c(NA, NA, NA)
t41 <- c(NA, NA, NA, 2, NA, 4, NA)
t42 <- c(NA, NA, 2, 4, 4, NA, NA)
t51 <- c(1, NA, NA, 2, NA, 4, NA)
t52 <- c(NA, -5, 2, 4, 4, NA, 11)
pos_na(t11, t12)
pos_na <- function(vec1, vec2) {
stopifnot(length(vec1) == length(vec2))
which(is.na(vec1) & is.na(vec2))
}
t11 <- c(1, NA, 2)
t12 <- c(NA, NA)
t21 <- c(NA, NA, 2)
t22 <- c(NA, NA, 2)
t31 <- c(NA, 5, NA)
t32 <- c(NA, NA, NA)
t41 <- c(NA, NA, NA, 2, NA, 4, NA)
t42 <- c(NA, NA, 2, 4, 4, NA, NA)
t51 <- c(1, NA, NA, 2, NA, 4, NA)
t52 <- c(NA, -5, 2, 4, 4, NA, 11)
pos_na(t11, t12)
wmata_ridership <- read_csv(https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
names(wmata_ridership)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
view(wmata_ridership)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
view(wmata_ridership)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$year <- format(wmata_ridership$Date, "%y")
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(year, month, day) %>%
summarise(rides = n(), .groups = "drop")
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
print(props)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
print(props, n = 50)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
# print(props, n = 50)
table(wmata_ridership$month, wmata_ridership$day)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$month <- as.numeric(format(wmata_ridership$Date, "%m"))
wmata_ridership$day <- as.numeric(format(wmata_ridership$Date, "%d"))
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
# print(props, n = 50)
table(wmata_ridership$month, wmata_ridership$day)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$Date <- as.Date(wmata_ridership$Date)
wmata_ridership$month <- as.numeric(format(wmata_ridership$Date, "%m"))
wmata_ridership$day <- as.numeric(format(wmata_ridership$Date, "%d"))
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
# print(props, n = 50)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$Date <- as.Date(wmata_ridership$Date)
wmata_ridership$month <- as.numeric(format(wmata_ridership$Date, "%m"))
wmata_ridership$day <- as.numeric(format(wmata_ridership$Date, "%d"))
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
print(props, n = 50)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$Date <- as.Date(wmata_ridership$Date)
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
print(props, n = 50)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$year <- as.numeric(format(wmata_ridership$Date, "%Y"))
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
print(props, n = 50)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$year <- as.numeric(format(wmata_ridership$Date, "%Y"))
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(year, month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(year, month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = c("year", "month")) %>%
mutate(prop = rides / total_rides)
print(props, n = 50)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$year <- as.numeric(format(wmata_ridership$Date, "%Y"))
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
daily_rides <- wmata_ridership %>%
group_by(month, day) %>%
summarise(rides = n(), .groups = "drop")
monthly_count <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides = n(), .groups = "drop")
props <- daily_rides %>%
left_join(monthly_count, by = "month") %>%
mutate(prop = rides / total_rides)
print(props, n = 50)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$Date <- as.Date(wmata_ridership$Date)
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
monthly_counts <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides_per_month = sum(Total))
props_daily <- wmata_ridership %>%
left_join(monthly_totals, by = "Month") %>%
mutate(prop = Total / total_rides_month)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$Date <- as.Date(wmata_ridership$Date)
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
monthly_counts <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides_per_month = sum(Total))
props_daily <- wmata_ridership %>%
left_join(monthly_counts, by = "Month") %>%
mutate(prop = Total / total_rides_per_month)
wmata_ridership <- read_csv('https://dcgerard.github.io/stat_412_612/data/wmata_ridership.csv')
wmata_ridership$Date <- as.Date(wmata_ridership$Date)
wmata_ridership$month <- format(wmata_ridership$Date, "%m")
wmata_ridership$day <- format(wmata_ridership$Date, "%d")
head(wmata_ridership)
monthly_counts <- wmata_ridership %>%
group_by(month) %>%
summarise(total_rides_per_month = sum(Total))
props_daily <- wmata_ridership %>%
left_join(monthly_counts, by = "month") %>%
mutate(prop = Total / total_rides_per_month)
print(props_daily, n = 50)
ggplot(props_daily, aes(x = factor(month), y = prop)) +
geom_boxplot(fill = "red")
ggplot(props_daily, aes(x = factor(month), y = prop)) +
geom_boxplot()
V <- c("Bears", "Lions", "Dolphins", "Eagles", "Bengals")
x[0]
V <- c("Bears", "Lions", "Dolphins", "Eagles", "Bengals")
V[0]
V[2]
V[4]
V[1]
V[3]
V[5]
for (team in V) {
print(i, i +1, i +2)
}
for (team in V) {
print(team, team+1, team+2)
}
for (team in V) {
print(team)
}
special_teams <- c("Bears", "Dolphins", "Bengals")
for (team in V) {
if (team %in% special_teams) {
print(team)
}
}
V[c(1,3,5)]
V[c(-5, -3, -1)]
V[-c(2, 4, 6)]
V[V %in% c("Bears", "Dolphins", "Bengals")]
V[c("team1", "team3", "team5")]
V[c("Bengals", "Dolphins", "Bengals")]
# There is no names representing the teams, therefore it is not possible to subset by names
V[c("Bears", "Dolphins", "Bengals")]
# There is no names representing the teams, therefore it is not possible to subset by names
records <- c(
"Steve McQueen | 2020-01-15 | HR",
"B. Smith | 15/02/2021 | FIN",
"Carlos M | March 3, 2019 | IT",
"D. Lee | 2018/07/30 | HR",
"Alain Delon | 04-12-2020 | MKT"
)
records
knitr::opts_chunk$set(echo       = TRUE,
fig.height = 3,
fig.width  = 6,
fig.align  = "center")
ggplot2::theme_set(ggplot2::theme_bw())
#| message: false
library(tidyverse)
library(lubridate)
library(stringr)
for rec in records {
records %>%
separate(records, into = c("name", "hire_date", "dept").
tibble(record = records) %>%
separate(record, into = c("name", "hire_date", "dept"),
sep = "\\|")
getwd()
record %>%
mutate(hire_date = as.Date(hire_date))
records %>%
mutate(hire_date = as.Date(hire_date))
cleaned_records <- tibble(record = records) %>%
separate(record, into = c("name", "hire_date", "dept"),
sep = "\\|")
cleaned_records
cleaned_records %>%
mutate(hire_date = as.Date(hire_date))
#| message: false
library(tidyverse)
library(lubridate)
cleaned_records %>%
mutate(hire_date = parse_date_time((hire_date, orders = c("ymd", "dmy", "mdy", "B d, Y")))
cleaned_records %>%
mutate(hire_date = parse_date_time(
hire_date, orders = c("ymd", "dmy", "mdy", "B d, Y"))
cleaned_records %>%
mutate(hire_date = parse_date_time(
hire_date,
orders = c("ymd", "dmy", "mdy", "B d, Y")
)
)
depts <- c("HR", "FIN", "IT", "MKT")
cleaned_records %>%
mutate(dept = factor(dept, levels = depts))
unique(cleaned_records$dept)
depts <- c("HR", "FIN", "IT", "MKT")
cleaned_records %>%
mutate(dept = factor(dept, levels = depts))
depts <- c(" HR", " FIN", " IT", " MKT")
cleaned_records %>%
mutate(dept = factor(dept, levels = depts))
depts <- c(" HR", " FIN", " IT", " MKT")
cleaned_records %>%
mutate(dept = factor(dept, levels = depts))
print(as.factor(cleaned_records$dept))
cleaned_records
as.data.frame(cleaned_records)
cleaned_records %>%
mutate(years_worked = floor(
time_length(interval(hire_date, today()), "years")
))
records <- c(
"Steve McQueen | 2020-01-15 | HR",
"B. Smith | 15/02/2021 | FIN",
"Carlos M | March 3, 2019 | IT",
"D. Lee | 2018/07/30 | HR",
"Alain Delon | 04-12-2020 | MKT"
)
records
cleaned_records <- tibble(record = records) %>%
separate(record, into = c("name", "hire_date", "dept"),
sep = "\\|")
cleaned_records
cleaned_records %>%
mutate(hire_date = parse_date_time(
hire_date,
orders = c("ymd", "dmy", "mdy", "B d, Y")
)
)
depts <- c(" HR", " FIN", " IT", " MKT")
cleaned_records %>%
mutate(dept = factor(dept, levels = depts))
print(as.factor(cleaned_records$dept))
cleaned_records %>%
mutate(hire_date = parse_date_time(
hire_date,
orders = c("ymd", "dmy", "mdy", "B d, Y")
)
)
cleaned_records %>%
mutate(hire_date = parse_date_time(
hire_date,
orders = c("ymd", "dmy", "mdy", "B d, Y")
)
)
cleaned_records
depts <- c(" HR", " FIN", " IT", " MKT")
cleaned_records %>%
mutate(dept = factor(dept, levels = depts))
print(as.factor(cleaned_records$dept))
cleaned_records <- cleaned_records %>%
mutate(hire_date = parse_date_time(
hire_date,
orders = c("ymd", "dmy", "mdy", "B d, Y")
)
)
cleaned_records
depts <- c(" HR", " FIN", " IT", " MKT")
cleaned_records <- cleaned_records %>%
mutate(dept = factor(dept, levels = depts))
print(as.factor(cleaned_records$dept))
cleaned_records
cleaned_records <- as.data.frame(cleaned_records)
cleaned_records
cleaend_records <- cleaned_records %>%
mutate(years_worked = floor(
time_length(interval(hire_date, today()), "years")
))
cleaend_records <- cleaned_records %>%
mutate(years_worked = floor(
time_length(interval(hire_date, today()), "years")
))
cleaend_records
cleaned_records <- cleaned_records %>%
mutate(years_worked = floor(
time_length(interval(hire_date, today()), "years")
))
cleaned_records
cleaned_records
